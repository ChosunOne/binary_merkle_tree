syntax = "proto3";

message MerkleNode {
    uint64 references = 1;
    oneof node {
        Branch branch = 2;
        Leaf leaf = 3;
        Data data = 4;
    }
}

message Branch {
    uint64 count = 1;
    bytes zero = 2;
    bytes one = 3;
    uint32 split_index = 4;
}

message Leaf {
    bytes key = 1;
    bytes data = 2;
}

message Data {
    bytes value = 1;
}